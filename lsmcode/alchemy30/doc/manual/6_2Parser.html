<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2002-2-1 (1.70)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>6.2 Parser</TITLE>
<META NAME="description" CONTENT="6.2 Parser">
<META NAME="keywords" CONTENT="manual">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2002-2-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="manual.css">

<LINK REL="next" HREF="6_3Logic.html">
<LINK REL="previous" HREF="6_1Utilities.html">
<LINK REL="up" HREF="6Notes_on_Code_Design.html">
<LINK REL="next" HREF="6_3Logic.html">
</HEAD>

<BODY >
<!--Navigation Panel-->
<A NAME="tex2html214"
  HREF="6_3Logic.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html212"
  HREF="6Notes_on_Code_Design.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html206"
  HREF="6_1Utilities.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html215"
  HREF="6_3Logic.html">6.3 Logic</A>
<B> Up:</B> <A NAME="tex2html213"
  HREF="6Notes_on_Code_Design.html">6 Notes on Code</A>
<B> Previous:</B> <A NAME="tex2html207"
  HREF="6_1Utilities.html">6.1 Utilities</A>
<BR>
<BR>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION00062000000000000000"></A>
<A NAME="parserdir"></A>
<BR>
6.2 Parser
</H2>
In the <TT>parser/</TT> directory,
<TT>follex.y</TT> and <TT>fol.y</TT> are the input files for Flex (lexical analyzer) 
and Bison (parser generator) respectively. <TT>fol.y</TT> contains the 
grammar rules that are used to parse first-order logic formulas, 
and the code that fires when each rule is encountered. 
<TT>folhelper.h </TT>contains our variables 
and functions that are used in <TT>fol.y</TT> and <TT>follex.y</TT>. 
All Flex and Bison 
variables and functions begin with the characters <TT>yy</TT>. Using a similar 
convention, all of our variables and functions that are used in 
<TT>follex.y</TT>, <TT>fol.y</TT> and <TT>folhelper.h</TT> begin with <TT>zz</TT>. 
The main function is <TT>runYYParser()</TT> that parses a <TT>.mln</TT> file and 
creates an <TT>MLN</TT> and <TT>Domain</TT> (see Section&nbsp;<A HREF="6_3Logic.html#logicdir">6.3</A> below). 
If you want to add variables to be used in <TT>fol.y</TT> or <TT>folhelper.h</TT>, 
please see the note at the top of <TT>folhelper.h</TT>. 
You can also change the default weights given to hard clauses and 
clauses derived from formulas containing mutually exclusive and exhaustive
 values by setting <TT>HARD_WEIGHT_MULTIPLIER</TT>/<TT>HARD_WEIGHT</TT> and 
<TT>EXIST_UNIQUE_WEIGHT_MULTIPLIER</TT>/<TT>EXIST_UNIQUE_WEIGHT</TT> 
at the top of <TT>folhelper.h</TT>.
<TT>StrFifoList</TT> is a list used in <TT>fol.y</TT> to hold tokens in the 
order that they are extracted by Flex. 
<TT>ListObj</TT> contains the algorithm to convert a 
first-order formula to CNF. It approximates lisp in its use of lists to 
represent a prefix form of first-order logic. <TT>replacefolcpp.pl</TT> is a perl 
script that replaces certain code in <TT>fol.cpp</TT> (generated by Bison from 
<TT>fol.y</TT>) so that it is C++ compliant. If you are using a version of Bison 
that is less than 2.0, you may have to uncomment the lines at the bottom 
of the file. For debugging purposes, you can set the variables <TT>follexDbg</TT>
(in <TT>follex.y</TT>) and <TT>folDbg</TT> (in <TT>fol.y</TT>) to see the order in 
which tokens are extracted, as well as the order in which the grammar 
rules are executed. 

<P>
<HR>
<!--Navigation Panel-->
<A NAME="tex2html214"
  HREF="6_3Logic.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html212"
  HREF="6Notes_on_Code_Design.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html206"
  HREF="6_1Utilities.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A>   
<BR>
<B> Next:</B> <A NAME="tex2html215"
  HREF="6_3Logic.html">6.3 Logic</A>
<B> Up:</B> <A NAME="tex2html213"
  HREF="6Notes_on_Code_Design.html">6 Notes on Code</A>
<B> Previous:</B> <A NAME="tex2html207"
  HREF="6_1Utilities.html">6.1 Utilities</A>
<!--End of Navigation Panel-->
<ADDRESS>
Marc Sumner
2006-06-26
</ADDRESS>
</BODY>
</HTML>
